# ðŸ  BogotÃ¡ Apartments - Crontab para AutomatizaciÃ³n
# ==================================================
# Ejecutar scraping automÃ¡tico y tareas de mantenimiento

# ðŸ•·ï¸ Scraping Metrocuadrado - Cada 6 horas
0 */6 * * * /home/scraper/app/python /home/scraper/app/run_scraper.py --spider metrocuadrado --log-level INFO >> /home/scraper/app/logs/cron.log 2>&1

# ðŸ¢ Scraping Habi - Cada 8 horas (offset para evitar solapamiento)
30 2,10,18 * * * /home/scraper/app/python /home/scraper/app/run_scraper.py --spider habi --log-level INFO >> /home/scraper/app/logs/cron.log 2>&1

# ðŸ’¾ Backup automÃ¡tico - Diario a las 3:00 AM
0 3 * * * /home/scraper/app/scripts/docker-backup.sh >> /home/scraper/app/logs/backup.log 2>&1

# ðŸ—‘ï¸ Limpieza de logs - Semanal los domingos a las 4:00 AM
0 4 * * 0 find /home/scraper/app/logs -name "*.log" -mtime +30 -delete

# ðŸ“Š Reporte de estadÃ­sticas - Diario a las 7:00 AM
0 7 * * * /home/scraper/app/python /home/scraper/app/processing.py --generate-stats >> /home/scraper/app/logs/processing.log 2>&1

# LÃ­nea en blanco al final (requerida por cron) 